{{ define "main" }}
<div class="container mx-auto px-4 py-8">
  <article class="prose prose-lg mx-auto">
    {{ with .Title }}
      <h1 class="text-4xl font-bold mb-6">{{ . }}</h1>
    {{ end }}
    
    {{ with .Params.summary }}
      <div class="text-xl text-gray-600 mb-6">
        {{ . }}
      </div>
    {{ end }}
    
    {{ if and .Date (not .Date.IsZero) }}
      <div class="text-sm text-gray-500 mb-6">
        {{ .Date.Format "January 2, 2006" }}
        {{ if and .Params.lastmod (not .Params.lastmod.IsZero) }}
          â€¢ Updated {{ .Params.lastmod.Format "January 2, 2006" }}
        {{ end }}
      </div>
    {{ end }}
    
    {{ with .Params.tags }}
      <div class="mb-6">
        {{ range . }}
          <span class="inline-block bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full mr-2 mb-2">
            {{ . }}
          </span>
        {{ end }}
      </div>
    {{ end }}
    
    <div class="content">
      {{/* Fixed: Use with to safely handle .Content */}}
      {{ with .Content }}
        {{ . }}
      {{ end }}
    </div>
    
    {{ with .Params.authors }}
      <div class="mt-8 pt-6 border-t">
        <h3 class="text-lg font-semibold mb-2">Authors</h3>
        {{ range . }}
          <span class="text-gray-700">{{ . }}</span>
        {{ end }}
      </div>
    {{ end }}
  </article>
</div>
{{ end }}
